<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Skyscanner Intelligence Hub{% endblock %}</title>

    <!-- Preload critical resources -->
    <link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin>
    <link rel="dns-prefetch" href="https://cdn.jsdelivr.net">
    <link rel="preload" href="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js" as="script">

    <link rel="stylesheet" href="{{ url_for('static', filename='css/dashboard.css') }}">
</head>
<body>
    <div class="dashboard-layout">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <img src="{{ url_for('static', filename='images/skyscanner_logo.png') }}" alt="Skyscanner" class="sidebar-logo">
                <h3 class="sidebar-title">Intelligence Hub</h3>
            </div>

            <nav class="sidebar-nav">
                <a href="/" class="nav-item {% if request.path == '/' %}active{% endif %}">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" class="nav-icon">
                        <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z" fill="currentColor"/>
                    </svg>
                    <span>Home</span>
                </a>

                <div class="nav-divider">AI Conversations</div>

                <a href="/ai-chat" class="nav-item {% if request.path == '/ai-chat' %}active{% endif %}">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" class="nav-icon">
                        <path d="M12 2L15.09 8.26L22 9.27L17 14.14L18.18 21.02L12 17.77L5.82 21.02L7 14.14L2 9.27L8.91 8.26L12 2Z" fill="currentColor"/>
                    </svg>
                    <span>AI Insights Bot</span>
                </a>

                <div class="nav-divider">Dashboards</div>

                <a href="/dashboards/flights" class="nav-item {% if request.path == '/dashboards/flights' %}active{% endif %}">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" class="nav-icon">
                        <path d="M21 16v-2l-8-5V3.5c0-.83-.67-1.5-1.5-1.5S10 2.67 10 3.5V9l-8 5v2l8-2.5V19l-2 1.5V22l3.5-1 3.5 1v-1.5L13 19v-5.5l8 2.5z" fill="currentColor"/>
                    </svg>
                    <span>Flights Intelligence</span>
                </a>

                <a href="/dashboards/hotels" class="nav-item {% if request.path == '/dashboards/hotels' %}active{% endif %}">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" class="nav-icon">
                        <path d="M7 13c1.66 0 3-1.34 3-3S8.66 7 7 7s-3 1.34-3 3 1.34 3 3 3zm12-6h-8v7H3V5H1v15h2v-3h18v3h2v-9c0-2.21-1.79-4-4-4z" fill="currentColor"/>
                    </svg>
                    <span>Hotel Intelligence</span>
                </a>

                <a href="/dashboards/packages" class="nav-item {% if request.path == '/dashboards/packages' %}active{% endif %}">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" class="nav-icon">
                        <path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    <span>Packages Intelligence</span>
                </a>

                <a href="/dashboards/reviews" class="nav-item {% if request.path == '/dashboards/reviews' %}active{% endif %}">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" class="nav-icon">
                        <path d="M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-7 12h-2v-2h2v2zm0-4h-2V6h2v4z" fill="currentColor"/>
                    </svg>
                    <span>Customer Reviews</span>
                </a>

                <div class="nav-divider">Market Insights</div>

                <a href="/travel-trends" class="nav-item {% if request.path == '/travel-trends' %}active{% endif %}">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" class="nav-icon">
                        <path d="M16 6l2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z" fill="currentColor"/>
                    </svg>
                    <span>Travel Trends</span>
                </a>

                <div class="nav-divider">Data</div>

                <a href="/data-access" class="nav-item {% if request.path == '/data-access' %}active{% endif %}">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" class="nav-icon">
                        <path d="M12 3C7.58 3 4 4.79 4 7s3.58 4 8 4 8-1.79 8-4-3.58-4-8-4zM4 9v3c0 2.21 3.58 4 8 4s8-1.79 8-4V9c0 2.21-3.58 4-8 4s-8-1.79-8-4zm0 5v3c0 2.21 3.58 4 8 4s8-1.79 8-4v-3c0 2.21-3.58 4-8 4s-8-1.79-8-4z" fill="currentColor"/>
                    </svg>
                    <span>Data Access</span>
                </a>
            </nav>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <div class="content-header">
                <div>
                    <h1 class="page-title">{% block page_title %}Dashboard{% endblock %}</h1>
                    <p class="page-description">{% block page_description %}{% endblock %}</p>
                </div>
                <!-- VERSION: NO_EXPORT_BUTTONS_V3 -->
            </div>

            <div class="dashboard-content">
                {% block content %}{% endblock %}
            </div>
        </main>
    </div>
</body>
</html>
